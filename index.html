<!doctype html>
<!--
  Copyright 2020 wixette@gmail.com

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->
<html lang="zh-CN" id="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>中文一键转稿纸格式</title>
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <div id="desktop">
      <div id="input-container">
        <div id="text-container">
          <p>中文一键转稿纸格式&nbsp;<a href="https://github.com/wixette/jsmanuscript">源代码</a></p>
          <p><textarea rows="20" cols="26" id="input-text" placeholder="请输入要排版的文字"></textarea></p>
        </div>
        <div id="option-container">
          <p>字体：<input id="font-family" size="10" value="sans-serif"></p>
          <p>文字颜色：<input id="text-color" type="color" value="#000000"></p>
          <p>纸张颜色：<input id="paper-color" type="color" value="#ffffff"></p>
          <p>网格颜色：<input id="grid-color" type="color" value="#33cc33"></p>
          <div id="button-container">
            <div><input id="format-button" type="button" value="生成稿纸"></div>
            <div><input id="print-button" type="button" value="打印稿纸"></div>
          </div>
        </div>
      </div>

      <div id="paper-container">
      </div>
    </div>

    <script src="jsmanuscript.js"></script>
    <script>
     document.getElementById('input-text').focus();
     document.getElementById('format-button').addEventListener('click', function() {
       var text = document.getElementById('input-text').value;
       var fontFamily = document.getElementById('font-family').value;
       var textColor = document.getElementById('text-color').value;
       var paperColor = document.getElementById('paper-color').value;
       var gridColor = document.getElementById('grid-color').value;
       JsManuscriptFormatText(text,
                              document.getElementById('paper-container'),
                              fontFamily,
                              textColor,
                              paperColor,
                              gridColor);
     });
     document.getElementById('print-button').addEventListener('click', function() {
       window.print();
     });
    </script>
  </body>
</html>
